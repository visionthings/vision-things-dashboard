@if (isLoading) {
<app-loading></app-loading>
}@else if(res.data.length === 0 ) {
<app-heading message="كوبونات الخصم"></app-heading>
<app-empty-state></app-empty-state>
} @else {
<app-heading message="كوبونات الخصم"></app-heading>
<div class="w-full overflow-x-auto">
  <table class="mb-5 w-full text-nowrap">
    <thead>
      <th>كوبون الخصم</th>
      <th>نسبة الخصم</th>
      <th>تاريخ البداية</th>
      <th>تاريخ الإنتهاء</th>
      <th>حذف</th>
    </thead>
    <tbody>
      @for (promocode of promocodes; track promocode.id) {
      <tr>
        <td>{{ promocode.promocode }}</td>
        <td>% {{ promocode.discount }}</td>
        <td>{{ promocode.start_date }}</td>
        <td>{{ promocode.expiry_date }}</td>
        <td>
          <fa-icon
            [icon]="icons.delete"
            (click)="delete(promocode.id)"
            class="text-rose-700 hover:text-rose-500 cursor-pointer w-fit h-fit"
          ></fa-icon>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>

<app-pagination [res]="res" (newPageEvent)="setPage($event)"></app-pagination>}
@if (successMessage) {
<app-success-message [message]="successMessage"></app-success-message>
} @if (errorMessage) {
<app-error-message [message]="errorMessage"></app-error-message>
}
